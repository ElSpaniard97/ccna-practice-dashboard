<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CCNA Flashcards</title>
  <style>
    :root {
      --sidebar:#1f2937;
      --sidebar-dark:#111827;
      --accent:#2563eb;
      --bg:#f5f6fa;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    body {
      margin:0; font-family:Inter,system-ui,Segoe UI,sans-serif;
      background:var(--bg); color:var(--text);
      display:grid; grid-template-columns:240px 1fr; height:100vh;
    }
    .sidebar {
      background:linear-gradient(180deg,var(--sidebar),var(--sidebar-dark));
      color:#e5e7eb; display:flex; flex-direction:column;
    }
    .brand {padding:16px;font-weight:600;border-bottom:1px solid rgba(255,255,255,0.1);}
    .nav {flex:1;padding:12px;}
    .nav a {
      display:block;padding:10px 14px;border-radius:6px;color:#d1d5db;text-decoration:none;
    }
    .nav a:hover, .nav a.active {background:rgba(255,255,255,0.1);color:#fff;}
    .main {padding:20px;overflow:auto;text-align:center;}
    h2 {margin-bottom:16px;}
    select {
      padding:8px;border:1px solid #ccc;border-radius:6px;margin-bottom:20px;
      font-size:1rem;
    }
    .flashcard {
      width:320px;height:200px;perspective:1000px;cursor:pointer;margin:0 auto;
    }
    .inner {
      position:relative;width:100%;height:100%;transition:transform 0.6s;
      transform-style:preserve-3d;
    }
    .flashcard.flipped .inner {transform:rotateY(180deg);}
    .front, .back {
      position:absolute;width:100%;height:100%;backface-visibility:hidden;
      border-radius:10px;box-shadow:var(--shadow);background:var(--card);
      display:flex;align-items:center;justify-content:center;
      padding:16px;text-align:center;
    }
    .back {
      transform:rotateY(180deg);
      background:#e0e7ff;
      color:#1e3a8a;
      font-size:0.95rem;
    }
    .front {font-weight:600;font-size:1rem;}
    .controls {
      margin-top:24px;display:flex;justify-content:center;gap:12px;
    }
    .controls button {
      padding:10px 20px;font-size:1rem;border:none;border-radius:6px;
      cursor:pointer;background:var(--accent);color:white;transition:background 0.2s;
    }
    .controls button:hover {background:#1d4ed8;}
    .footer {
      text-align:center;margin-top:16px;color:var(--muted);
      font-size:0.9rem;
    }
  </style>
</head>
<body>
  <aside class="sidebar">
    <div class="brand">CCNA Dashboard</div>
    <div class="nav">
      <a href="index.html">Dashboard</a>
      <a href="questions.html">Practice Test</a>
      <a href="flashcards.html" class="active">Flashcards</a>
    </div>
  </aside>

  <main class="main">
    <h2>Flashcards</h2>
    <p>Select a CCNA section to begin studying:</p>
    <select id="sectionSelect">
      <option value="">-- Choose Section --</option>
    </select>

    <div id="flashcardArea"></div>

    <div class="controls" style="display:none;" id="controls">
      <button id="prevBtn">Previous</button>
      <button id="flipBtn">Flip</button>
      <button id="nextBtn">Next</button>
      <button id="shuffleBtn">Shuffle</button>
    </div>

    <div class="footer">Click "Flip" or the card to reveal the answer.</div>
  </main>

  <script type="module">
    import { QUESTIONS_SECTIONS } from './questions-data.js';

    const sectionSelect = document.getElementById('sectionSelect');
    const flashcardArea = document.getElementById('flashcardArea');
    const controls = document.getElementById('controls');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const flipBtn = document.getElementById('flipBtn');
    const shuffleBtn = document.getElementById('shuffleBtn');

    let currentSection = null;
    let cards = [];
    let index = 0;

    // Populate section dropdown
    QUESTIONS_SECTIONS.forEach(sec=>{
      const opt=document.createElement('option');
      opt.value=sec.id;
      opt.textContent=sec.title;
      sectionSelect.appendChild(opt);
    });

    sectionSelect.addEventListener('change', ()=>{
      const id = sectionSelect.value;
      if(!id){ flashcardArea.innerHTML=''; controls.style.display='none'; return; }
      currentSection = QUESTIONS_SECTIONS.find(s=>s.id===id);
      cards = [...currentSection.items];
      index = 0;
      controls.style.display='flex';
      renderCard();
    });

    function renderCard(){
      if(!cards.length) return;
      const q = cards[index];
      flashcardArea.innerHTML = `
        <div class="flashcard" id="card">
          <div class="inner">
            <div class="front">${index+1}. ${q.q}</div>
            <div class="back"><strong>${q.options[q.answer]}</strong><br><br><em>${q.explanation}</em></div>
          </div>
        </div>
        <p style="margin-top:10px;color:var(--muted)">Card ${index+1} of ${cards.length}</p>`;
      const card = document.getElementById('card');
      card.addEventListener('click', ()=>card.classList.toggle('flipped'));
    }

    prevBtn.addEventListener('click', ()=>{
      if(index>0){ index--; renderCard(); }
    });
    nextBtn.addEventListener('click', ()=>{
      if(index<cards.length-1){ index++; renderCard(); }
    });
    flipBtn.addEventListener('click', ()=>{
      const card = document.getElementById('card');
      if(card) card.classList.toggle('flipped');
    });
    shuffleBtn.addEventListener('click', ()=>{
      cards = cards.sort(()=>Math.random()-0.5);
      index = 0;
      renderCard();
    });
  </script>
</body>
</html>
